name: Build

on: [push, pull_request, workflow_dispatch]

jobs:
  Build:
    name: Mac OS X
    runs-on: macos-latest 

    defaults:
      run:
        shell: sh

    strategy:
      fail-fast: false         

    steps:
    - uses: actions/checkout@v4
    - name: Configure
      run: |
        mkdir build
        cd build 
        CC=/Users/runner/work/SDL/SDL/build-scripts/clang-fat.sh ../configure
        make
    - name: Upload
      uses: actions/upload-artifact@v4.3.3
      with:
        path: build/libSDL2-2.0.0.dylib
                
